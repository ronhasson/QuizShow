<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="theme-color" content="#db5945" />
    <title>Quiz Show</title>
    <style>
        body {
            margin: 0;
            background-color: #111629;
            color: white;
        }

        #content {
            margin: 3%;
        }
    </style>
</head>
<script>
    function getCookie(cname) {
        var name = cname + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

    function checkCookie() {
        var user = getCookie("user");
        if (user != "") {
            alert("Welcome again " + user);
        } else {
            alert("error no cookie(user)")
            return false;
        }
        var color = getCookie("color");
        if (color != "") {
            alert("color:  " + color);
        } else {
            alert("error no cookie(color)")
            return false;
        }
    }

    function changeThemeColor(ccolor) {
        var metaThemeColor = document.querySelector("meta[name=theme-color]");
        metaThemeColor.setAttribute("content", ccolor);
    }
</script>

<body>
    <div id="colorBar" style="height:2vh;"></div>
    <div id="content">
        <div id="preGameWait">
            <h1 id="preGameName">Hi ????</h1>
            <h2>the game will start momenterly</h2>
        </div>
        <div id="questionScreen">
            <span id="qText"></span>
        </div>
        <div id="scoreBoard">

        </div>
    </div>
</body>
<script>
    checkCookie()
    changeThemeColor(getCookie("color"));
    document.getElementById("colorBar").style.backgroundColor = "red" //getCookie("color");
    document.getElementById("preGameWait").innerHTML = "Hi " + getCookie("user");
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
<script>
    var socket = io();
    socket.on('newQuestion', function (data) {
        console.log(data);
        document.getElementById("qText").innerHTML = data.q_question;
        //start timer
    });
</script>

</html>